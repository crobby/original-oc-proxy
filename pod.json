{
  "kind": "List",
  "apiVersoin": "v1",
  "metadata": {},
  "items": [
    {
      "kind": "Pod",
      "apiVersion": "v1",
      "metadata": {
        "name": "oc-proxy-tester",
        "labels": {
          "name": "oc-proxy-tester",
          "app": "oc-proxy-tester"
        }
      },
      "spec": {
        "containers": [
          {
            "name": "bb",
            "image": "gcr.io/google_containers/busybox",
            "command": [
              "sh", "-c", "sleep 5; wget -O - ${KUBERNETES_RO_SERVICE_HOST}:${KUBERNETES_RO_SERVICE_PORT}/api/v1/pods/; sleep 10000"
            ],
            "ports": [
              {
                "containerPort": 8080
              }
            ],
            "env": [
              {
                "name": "KUBERNETES_RO_SERVICE_HOST",
                "value": "127.0.0.1"
              },
              {
                "name": "KUBERNETES_RO_SERVICE_PORT",
                "value": "8001"
              }
            ],
            "volumeMounts": [
              {
                "name": "test-volume",
                "mountPath": "/mount/test-volume"
              }
            ]
          },
          {
            "name": "oc-proxy",
            "image": "docker.io/crobby/oc-proxy",
            "imagePullPolicy": "IfNotPresent",
            "args": [
              "proxy",
              "-p",
              "8001",
              "--address=0.0.0.0"
            ],
            "ports": [
              {
                "name": "oc-proxy-port",
                "containerPort": 8001,
                "protocol": "TCP"
              }
            ]
          }
        ],
        "volumes": [
          {
            "name": "test-volume",
            "emptyDir": {}
          }
        ]
      }
    },
    {
      "kind": "Service",
      "apiVersion": "v1",
      "metadata": {
        "name": "oc-proxy-service",
        "labels": {
          "name": "oc-proxy-service"
        }
      },
      "spec": {
        "ports": [
          {
            "name": "oc-proxy-port",
            "protocol": "TCP",
            "port": 8001,
            "targetPort": 8001
          }
        ],
        "selector": {
          "app": "oc-proxy-tester"
        }
      }
    }
  ]
}
